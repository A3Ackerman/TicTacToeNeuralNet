{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexanderackerman/Code/TicTacToeNeuralNet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alexanderackerman/Code/TicTacToeNeuralNet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alexanderackerman/Code/TicTacToeNeuralNet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import React,{useState,useEffect}from'react';/* React code below based on https://reactjs.org/tutorial/tutorial.html */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dec=4;function Square(){var _useState=useState(-1.000),_useState2=_slicedToArray(_useState,2),val=_useState2[0],setVal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dis=_useState4[0],setDis=_useState4[1];return/*#__PURE__*/_jsx(\"button\",{className:\"square\",disabled:dis,onClick:function onClick(){setVal(Math.random());setDis(true);},style:val<0?{background:\"#fff\"}:val>0.5?{background:\"#e4b5b5\"}:{background:\"#99b1f4\"},children:val.toFixed(dec)});}function Board(){var status='Next player: X';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:status}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{}),/*#__PURE__*/_jsx(Square,{})]})]});}function Game(){return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"ol\",{})]})]});}function TrainingSquare(i){return/*#__PURE__*/_jsx(\"button\",{className:\"training-square\",style:i>0.5?{background:\"#e4b5b5\"}:{background:\"#99b1f4\"},children:i.toFixed(dec)});}function TrainingBoard(board){return/*#__PURE__*/_jsxs(\"div\",{className:\"training-board\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[TrainingSquare(board[0][0]),TrainingSquare(board[0][1]),TrainingSquare(board[0][2])]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[TrainingSquare(board[1][0]),TrainingSquare(board[1][1]),TrainingSquare(board[1][2])]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[TrainingSquare(board[2][0]),TrainingSquare(board[2][1]),TrainingSquare(board[2][2])]})]});}function ShowTrainingBoards(_ref){var title=_ref.title,boards=_ref.boards;return/*#__PURE__*/_jsxs(\"table\",{className:\"training-boards\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"h3\",{children:title})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"board\",children:\"Input Board\"}),/*#__PURE__*/_jsx(\"th\",{id:\"label\",children:\"True Class\"}),/*#__PURE__*/_jsx(\"th\",{id:\"pred\",children:\"Predicted Class\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:boards.map(function(x){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{headers:\"board\",children:TrainingBoard(x)}),/*#__PURE__*/_jsx(\"td\",{headers:\"label\",children:\"X Wins\"}),/*#__PURE__*/_jsx(\"td\",{headers:\"pred\",children:\"Draw\"})]});})})]});}function Table(_ref2){var weights=_ref2.weights,bias=_ref2.bias;var dec=4;var dataRows=[];weights.forEach(function(row){var cells=[];row.forEach(function(val){cells.push(/*#__PURE__*/_jsx(\"td\",{headers:\"weights\",children:val.toFixed(dec)}));});dataRows.push(cells);});var b0=bias[0]==null?\"\":parseFloat(bias[0]).toFixed(dec);var b1=bias[1]==null?\"\":parseFloat(bias[1]).toFixed(dec);var b2=bias[2]==null?\"\":parseFloat(bias[2]).toFixed(dec);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"params-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"bias\"}),/*#__PURE__*/_jsx(\"th\",{id:\"bias\",children:\"Bias\"}),/*#__PURE__*/_jsx(\"th\",{id:\"weights\",children:\"Weights\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Class X Wins\"}),/*#__PURE__*/_jsx(\"td\",{headers:\"bias\",children:b0}),dataRows[0]]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Class Y Wins\"}),/*#__PURE__*/_jsx(\"td\",{headers:\"bias\",children:b1}),dataRows[1]]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Class Draw\"}),/*#__PURE__*/_jsx(\"td\",{headers:\"bias\",children:b2}),dataRows[2]]})]})]})});}function loadNeuralNetScripts(){return _loadNeuralNetScripts.apply(this,arguments);}function _loadNeuralNetScripts(){_loadNeuralNetScripts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,mlcode;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('./NeuralNet.py');case 2:response=_context.sent;_context.next=5;return response.text();case 5:mlcode=_context.sent;window.pyodide.runPythonAsync(mlcode);case 7:case\"end\":return _context.stop();}}},_callee);}));return _loadNeuralNetScripts.apply(this,arguments);}function delay(_x){return _delay.apply(this,arguments);}function _delay(){_delay=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ms){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return new Promise(function(resolve){return setTimeout(function(){return resolve();},ms);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _delay.apply(this,arguments);}function App(){var _useState5=useState('Initializing Python 3.8\\n'),_useState6=_slicedToArray(_useState5,2),console=_useState6[0],setConsole=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),pythonLoaded=_useState8[0],setPythonLoaded=_useState8[1];var _useState9=useState([[],[],[]]),_useState10=_slicedToArray(_useState9,2),weights=_useState10[0],setWeights=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),bias=_useState12[0],setBias=_useState12[1];var boards=[[[0.1,0.2,0.6],[0.1,0.2,0.3],[0.1,0.2,0.3]],[[0.1,0.2,0.3],[0.1,0.2,0.3],[0.1,0.2,0.3]]];//Initialize Python\nuseEffect(function(){if(!pythonLoaded){window.languagePluginLoader.then(function(){setPythonLoaded(true);setConsole(function(c){return c+'Python Loaded\\n';});//load NeuralNet.py Scripts\nloadNeuralNetScripts().then(function(){setConsole(function(c){return c+'Neural Net Scripts Loaded\\n';});delay(2000).then(function(){setWeights(window.pyodide.globals.WEIGHTS);setBias(window.pyodide.globals.BIASES);setConsole(function(c){return c+'Trainable parameters randomly initialized\\n';});});}).catch(function(err){return setConsole(function(c){return c+err+'\\n';});});});}else{// update values?\n//setWeights(window.pyodide.globals.WEIGHTS)\n}},[pythonLoaded]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"python-console\",children:console}),/*#__PURE__*/_jsx(Game,{}),/*#__PURE__*/_jsx(Table,{weights:weights,bias:bias}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ShowTrainingBoards,{title:\"Training Dataset\",boards:boards}),/*#__PURE__*/_jsx(ShowTrainingBoards,{title:\"Test Dataset\",boards:boards})]})]});}// ========================================\nexport default App;","map":{"version":3,"sources":["/Users/alexanderackerman/Code/TicTacToeNeuralNet/src/App.tsx"],"names":["React","useState","useEffect","dec","Square","val","setVal","dis","setDis","Math","random","background","toFixed","Board","status","Game","TrainingSquare","i","TrainingBoard","board","ShowTrainingBoards","title","boards","map","x","Table","weights","bias","dataRows","forEach","row","cells","push","b0","parseFloat","b1","b2","loadNeuralNetScripts","fetch","response","text","mlcode","window","pyodide","runPythonAsync","delay","ms","Promise","resolve","setTimeout","App","console","setConsole","pythonLoaded","setPythonLoaded","setWeights","setBias","languagePluginLoader","then","c","globals","WEIGHTS","BIASES","catch","err"],"mappings":"kfAAA,MAAO,WAAP,CAEA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CAEA,0E,wFAEA,GAAMC,CAAAA,GAAG,CAAG,CAAZ,CAoBA,QAASC,CAAAA,MAAT,EAAkB,eACMH,QAAQ,CAAC,CAAC,KAAF,CADd,wCACTI,GADS,eACJC,MADI,8BAEML,QAAQ,CAAC,KAAD,CAFd,yCAETM,GAFS,eAEJC,MAFI,eAIhB,mBACE,eAAQ,SAAS,CAAC,QAAlB,CACE,QAAQ,CAAED,GADZ,CAEE,OAAO,CAAE,kBAAM,CAACD,MAAM,CAACG,IAAI,CAACC,MAAL,EAAD,CAAN,CAAuBF,MAAM,CAAC,IAAD,CAAN,CAAa,CAFtD,CAGE,KAAK,CAAEH,GAAG,CAAG,CAAN,CAAU,CAACM,UAAU,CAAE,MAAb,CAAV,CAAiCN,GAAG,CAAG,GAAN,CAAY,CAACM,UAAU,CAAE,SAAb,CAAZ,CAAsC,CAACA,UAAU,CAAE,SAAb,CAHhF,UAKGN,GAAG,CAACO,OAAJ,CAAYT,GAAZ,CALH,EADF,CASD,CAED,QAASU,CAAAA,KAAT,EAAiB,CACf,GAAMC,CAAAA,MAAM,CAAG,gBAAf,CAEA,mBACE,oCACE,YAAK,SAAS,CAAC,QAAf,UAAyBA,MAAzB,EADF,cAEE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,MAAD,IAHF,GAFF,cAOE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,MAAD,IAHF,GAPF,cAYE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,MAAD,IAHF,GAZF,GADF,CAoBD,CAED,QAASC,CAAAA,IAAT,EAAe,CACb,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,KAAD,IADF,EADF,cAIE,aAAK,SAAS,CAAC,WAAf,wBACE,cADF,cAEE,aAFF,GAJF,GADF,CAWD,CAED,QAASC,CAAAA,cAAT,CAAwBC,CAAxB,CAAmC,CAEjC,mBACE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,KAAK,CAAEA,CAAC,CAAG,GAAJ,CAAU,CAACN,UAAU,CAAE,SAAb,CAAV,CAAoC,CAACA,UAAU,CAAE,SAAb,CAA/E,UACGM,CAAC,CAACL,OAAF,CAAUT,GAAV,CADH,EADF,CAKD,CAID,QAASe,CAAAA,aAAT,CAAuBC,KAAvB,CAA0C,CAExC,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,aAAK,SAAS,CAAC,WAAf,WACGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CADjB,CAEGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAFjB,CAGGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAHjB,GADF,cAME,aAAK,SAAS,CAAC,WAAf,WACGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CADjB,CAEGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAFjB,CAGGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAHjB,GANF,cAWE,aAAK,SAAS,CAAC,WAAf,WACGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CADjB,CAEGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAFjB,CAGGH,cAAc,CAACG,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,CAAD,CAHjB,GAXF,GADF,CAmBD,CAED,QAASC,CAAAA,kBAAT,MAAoF,IAAvDC,CAAAA,KAAuD,MAAvDA,KAAuD,CAAhDC,MAAgD,MAAhDA,MAAgD,CAElF,mBACE,eAAO,SAAS,CAAC,iBAAjB,wBACE,sCACE,iCAAI,iCAAI,oBAAKD,KAAL,EAAJ,EAAJ,EADF,cAEE,mCACA,WAAI,EAAE,CAAC,OAAP,yBADA,cAEA,WAAI,EAAE,CAAC,OAAP,wBAFA,cAGA,WAAI,EAAE,CAAC,MAAP,6BAHA,GAFF,GADF,cASE,uBACGC,MAAM,CAACC,GAAP,CAAW,SAAAC,CAAC,qBAAI,mCAAI,WAAI,OAAO,CAAC,OAAZ,UAAqBN,aAAa,CAACM,CAAD,CAAlC,EAAJ,cAA+C,WAAI,OAAO,CAAC,OAAZ,oBAA/C,cAA8E,WAAI,OAAO,CAAC,MAAZ,kBAA9E,GAAJ,EAAZ,CADH,EATF,GADF,CAgBD,CAQD,QAASC,CAAAA,KAAT,OAA6C,IAA7BC,CAAAA,OAA6B,OAA7BA,OAA6B,CAApBC,IAAoB,OAApBA,IAAoB,CAC3C,GAAMxB,CAAAA,GAAG,CAAG,CAAZ,CAEA,GAAIyB,CAAAA,QAAyB,CAAG,EAAhC,CAEAF,OAAO,CAACG,OAAR,CACE,SAAAC,GAAG,CAAI,CACL,GAAIC,CAAAA,KAAoB,CAAG,EAA3B,CACAD,GAAG,CAACD,OAAJ,CAAY,SAAAxB,GAAG,CAAI,CACjB0B,KAAK,CAACC,IAAN,cACE,WAAI,OAAO,CAAC,SAAZ,UAAuB3B,GAAG,CAACO,OAAJ,CAAYT,GAAZ,CAAvB,EADF,EAGD,CAJD,EAKAyB,QAAQ,CAACI,IAAT,CAAcD,KAAd,EAED,CAVH,EAYA,GAAIE,CAAAA,EAAU,CAAGN,IAAI,CAAC,CAAD,CAAJ,EAAW,IAAX,CAAkB,EAAlB,CAAuBO,UAAU,CAACP,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoBf,OAApB,CAA4BT,GAA5B,CAAxC,CACA,GAAIgC,CAAAA,EAAU,CAAGR,IAAI,CAAC,CAAD,CAAJ,EAAW,IAAX,CAAkB,EAAlB,CAAuBO,UAAU,CAACP,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoBf,OAApB,CAA4BT,GAA5B,CAAxC,CACA,GAAIiC,CAAAA,EAAU,CAAGT,IAAI,CAAC,CAAD,CAAJ,EAAW,IAAX,CAAkB,EAAlB,CAAuBO,UAAU,CAACP,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoBf,OAApB,CAA4BT,GAA5B,CAAxC,CAEA,mBACI,kCACA,eAAO,SAAS,CAAC,cAAjB,wBACE,oCACE,mCACE,WAAI,EAAE,CAAC,MAAP,EADF,cACqB,WAAI,EAAE,CAAC,MAAP,kBADrB,cAC4C,WAAI,EAAE,CAAC,SAAP,qBAD5C,GADF,EADF,cAME,sCACE,mCAAI,oCAAJ,cAAyB,WAAI,OAAO,CAAC,MAAZ,UAAoB8B,EAApB,EAAzB,CAAsDL,QAAQ,CAAC,CAAD,CAA9D,GADF,cAEE,mCAAI,oCAAJ,cAAyB,WAAI,OAAO,CAAC,MAAZ,UAAoBO,EAApB,EAAzB,CAAsDP,QAAQ,CAAC,CAAD,CAA9D,GAFF,cAGE,mCAAI,kCAAJ,cAAuB,WAAI,OAAO,CAAC,MAAZ,UAAoBQ,EAApB,EAAvB,CAAoDR,QAAQ,CAAC,CAAD,CAA5D,GAHF,GANF,GADA,EADJ,CAgBD,C,QAEcS,CAAAA,oB,sKAAf,6KACuBC,CAAAA,KAAK,CAAC,gBAAD,CAD5B,QACMC,QADN,qCAEqBA,CAAAA,QAAQ,CAACC,IAAT,EAFrB,QAEMC,MAFN,eAGEC,MAAM,CAACC,OAAP,CAAeC,cAAf,CAA8BH,MAA9B,EAHF,sD,+DAMeI,CAAAA,K,2HAAf,kBAAqBC,EAArB,6IACQ,IAAIC,CAAAA,OAAJ,CAAkB,SAAAC,OAAO,QAAIC,CAAAA,UAAU,CAAE,iBAAMD,CAAAA,OAAO,EAAb,EAAF,CAAmBF,EAAnB,CAAd,EAAzB,CADR,yD,wCAIA,QAASI,CAAAA,GAAT,EAAe,gBACiBjD,QAAQ,CAAC,2BAAD,CADzB,yCACNkD,OADM,eACGC,UADH,8BAE2BnD,QAAQ,CAAC,KAAD,CAFnC,yCAENoD,YAFM,eAEQC,eAFR,8BAGiBrD,QAAQ,CAAC,CAAC,EAAD,CAAI,EAAJ,CAAO,EAAP,CAAD,CAHzB,0CAGNyB,OAHM,gBAGG6B,UAHH,gCAIWtD,QAAQ,CAAC,EAAD,CAJnB,2CAIN0B,IAJM,gBAIA6B,OAJA,gBAMb,GAAIlC,CAAAA,MAAoB,CAAG,CAAC,CAAC,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAAD,CAAgB,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAAhB,CAA+B,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAA/B,CAAD,CAA+C,CAAC,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAAD,CAAgB,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAAhB,CAA+B,CAAC,GAAD,CAAK,GAAL,CAAS,GAAT,CAA/B,CAA/C,CAA3B,CAEA;AACApB,SAAS,CAAC,UAAM,CACZ,GAAG,CAACmD,YAAJ,CAAiB,CACfX,MAAM,CAACe,oBAAP,CAA4BC,IAA5B,CAAiC,UAAM,CACrCJ,eAAe,CAAC,IAAD,CAAf,CACAF,UAAU,CAAC,SAAAO,CAAC,QAAIA,CAAAA,CAAC,CAAG,iBAAR,EAAF,CAAV,CAEA;AACAtB,oBAAoB,GAAGqB,IAAvB,CAA4B,UAAM,CAChCN,UAAU,CAAC,SAAAO,CAAC,QAAIA,CAAAA,CAAC,CAAG,6BAAR,EAAF,CAAV,CACAd,KAAK,CAAC,IAAD,CAAL,CAAYa,IAAZ,CAAiB,UAAM,CACrBH,UAAU,CAACb,MAAM,CAACC,OAAP,CAAeiB,OAAf,CAAuBC,OAAxB,CAAV,CACAL,OAAO,CAACd,MAAM,CAACC,OAAP,CAAeiB,OAAf,CAAuBE,MAAxB,CAAP,CACAV,UAAU,CAAC,SAAAO,CAAC,QAAIA,CAAAA,CAAC,CAAG,6CAAR,EAAF,CAAV,CACH,CAJC,EAKD,CAPD,EAOGI,KAPH,CAOS,SAACC,GAAD,QAAgBZ,CAAAA,UAAU,CAAC,SAAAO,CAAC,QAAIA,CAAAA,CAAC,CAAGK,GAAJ,CAAU,IAAd,EAAF,CAA1B,EAPT,EAQD,CAbD,EAcD,CAfD,IAeQ,CACN;AACA;AACD,CACF,CApBM,CAoBJ,CAACX,YAAD,CApBI,CAAT,CAsBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,UAAiCF,OAAjC,EADJ,cAEI,KAAC,IAAD,IAFJ,cAGI,KAAC,KAAD,EAAO,OAAO,CAAEzB,OAAhB,CAAyB,IAAI,CAAEC,IAA/B,EAHJ,cAII,oCACE,KAAC,kBAAD,EAAoB,KAAK,CAAE,kBAA3B,CAA+C,MAAM,CAAEL,MAAvD,EADF,cAEE,KAAC,kBAAD,EAAoB,KAAK,CAAE,cAA3B,CAA2C,MAAM,CAAEA,MAAnD,EAFF,GAJJ,GADF,CAaD,CAGD;AAEA,cAAe4B,CAAAA,GAAf","sourcesContent":["import './App.css'\n\nimport React, {useState, useEffect} from 'react'\n\n/* React code below based on https://reactjs.org/tutorial/tutorial.html */\n\nconst dec = 4\n\ndeclare global {\n\n  interface pythonVars {\n    WEIGHTS: number[][]\n    BIASES: string[]\n  }\n\n  interface Pyodide {\n    runPythonAsync: any\n    globals: pythonVars\n  }\n\n  interface Window {\n    languagePluginLoader: any\n    pyodide: Pyodide\n  }\n}\n\nfunction Square() {\n  const [val, setVal] = useState(-1.000)\n  const [dis, setDis] = useState(false)\n\n  return (\n    <button className=\"square\" \n      disabled={dis} \n      onClick={() => {setVal(Math.random()); setDis(true)}}\n      style={val < 0 ? {background: \"#fff\"} : val > 0.5 ? {background: \"#e4b5b5\"} : {background: \"#99b1f4\"}}\n      >\n      {val.toFixed(dec)}\n    </button>\n  )\n}\n\nfunction Board() {\n  const status = 'Next player: X';\n\n  return (\n    <div>\n      <div className=\"status\">{status}</div>\n      <div className=\"board-row\">\n        <Square/>\n        <Square/>\n        <Square/>\n      </div>\n      <div className=\"board-row\">\n        <Square/>\n        <Square/>\n        <Square/>\n      </div>\n      <div className=\"board-row\">\n        <Square/>\n        <Square/>\n        <Square/>\n      </div>\n    </div>\n  );\n}\n\nfunction Game(){\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board />\n      </div>\n      <div className=\"game-info\">\n        <div>{/* status */}</div>\n        <ol>{/* TODO */}</ol>\n      </div>\n    </div>\n  );\n}\n\nfunction TrainingSquare(i: number) {\n\n  return (\n    <button className=\"training-square\" style={i > 0.5 ? {background: \"#e4b5b5\"} : {background: \"#99b1f4\"}}>\n      {i.toFixed(dec)}\n    </button>\n  );\n}\n\ntype boardArray = [[number, number, number], [number, number, number], [number, number, number]]\n\nfunction TrainingBoard(board: boardArray) {\n\n  return (\n    <div className='training-board'>\n      <div className=\"board-row\">\n        {TrainingSquare(board[0][0])}\n        {TrainingSquare(board[0][1])}\n        {TrainingSquare(board[0][2])}\n      </div>\n      <div className=\"board-row\">\n        {TrainingSquare(board[1][0])}\n        {TrainingSquare(board[1][1])}\n        {TrainingSquare(board[1][2])}\n      </div>\n      <div className=\"board-row\">\n        {TrainingSquare(board[2][0])}\n        {TrainingSquare(board[2][1])}\n        {TrainingSquare(board[2][2])}\n      </div>\n    </div>\n  );\n}\n\nfunction ShowTrainingBoards({title, boards}: {title: string, boards: boardArray[]}) {\n\n  return (\n    <table className='training-boards'>\n      <thead>\n        <tr><th><h3>{title}</h3></th></tr>\n        <tr>\n        <th id='board'>Input Board</th>\n        <th id='label'>True Class</th>\n        <th id='pred'>Predicted Class</th>\n        </tr>\n      </thead>\n      <tbody>\n        {boards.map(x => <tr><td headers=\"board\">{TrainingBoard(x)}</td><td headers='label'>X Wins</td><td headers='pred'>Draw</td></tr>)} \n      </tbody>\n    </table>\n  )\n\n}\n\n\ntype tableProps = {\n  weights: number[][]\n  bias: string[]\n}\n\nfunction Table({weights, bias} : tableProps) {\n  const dec = 4\n  \n  let dataRows: JSX.Element[][] = []\n\n  weights.forEach(\n    row => {\n      let cells: JSX.Element[] = []\n      row.forEach(val => {\n        cells.push(\n          <td headers='weights'>{val.toFixed(dec)}</td>\n        )\n      })\n      dataRows.push(cells)\n\n    }\n  )\n  let b0: string = bias[0] == null ? \"\" : parseFloat(bias[0]).toFixed(dec)\n  let b1: string = bias[1] == null ? \"\" : parseFloat(bias[1]).toFixed(dec)\n  let b2: string = bias[2] == null ? \"\" : parseFloat(bias[2]).toFixed(dec)\n\n  return (\n      <div>\n      <table className='params-table'>\n        <thead>\n          <tr>\n            <th id='bias'></th><th id='bias'>Bias</th><th id='weights'>Weights</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr><th>Class X Wins</th><td headers='bias'>{b0}</td>{dataRows[0]}</tr>\n          <tr><th>Class Y Wins</th><td headers='bias'>{b1}</td>{dataRows[1]}</tr>\n          <tr><th>Class Draw</th><td headers='bias'>{b2}</td>{dataRows[2]}</tr>\n        </tbody>\n      </table>\n    </div>\n    )\n}\n\nasync function loadNeuralNetScripts()  {\n  let response = await fetch('./NeuralNet.py')\n  let mlcode = await response.text()\n  window.pyodide.runPythonAsync(mlcode)\n}\n\nasync function delay(ms: number) {\n  await new Promise<void>(resolve => setTimeout( () => resolve(), ms));\n}\n\nfunction App() {\n  const [console, setConsole] = useState('Initializing Python 3.8\\n')\n  const [pythonLoaded, setPythonLoaded] = useState(false)\n  const [weights, setWeights] = useState([[],[],[]] as number[][])\n  const [bias, setBias] = useState([] as string[])\n\n  let boards: boardArray[] = [[[0.1,0.2,0.6], [0.1,0.2,0.3], [0.1,0.2,0.3]],[[0.1,0.2,0.3], [0.1,0.2,0.3], [0.1,0.2,0.3]]]\n\n  //Initialize Python\n  useEffect(() => {\n      if(!pythonLoaded){\n        window.languagePluginLoader.then(() => {\n          setPythonLoaded(true)\n          setConsole(c => c + 'Python Loaded\\n')\n\n          //load NeuralNet.py Scripts\n          loadNeuralNetScripts().then(() => {\n            setConsole(c => c + 'Neural Net Scripts Loaded\\n')\n            delay(2000).then(() => {\n              setWeights(window.pyodide.globals.WEIGHTS)\n              setBias(window.pyodide.globals.BIASES)\n              setConsole(c => c + 'Trainable parameters randomly initialized\\n')\n          })\n          }).catch((err: Error) => setConsole(c => c + err + '\\n'))\n        })\n      }  else {\n        // update values?\n        //setWeights(window.pyodide.globals.WEIGHTS)\n      }\n    }, [pythonLoaded])\n\n  return (\n    <div className=\"App\">        \n        <div className='python-console'>{console}</div>\n        <Game />\n        <Table weights={weights} bias={bias}/>\n        <div>\n          <ShowTrainingBoards title={\"Training Dataset\"} boards={boards}/>\n          <ShowTrainingBoards title={\"Test Dataset\"} boards={boards}/>\n        </div>\n        \n    </div>\n  \n  )\n}\n\n\n// ========================================\n\nexport default App;"]},"metadata":{},"sourceType":"module"}