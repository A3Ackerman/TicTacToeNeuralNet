{"ast":null,"code":"const output = document.getElementById(\"output\");\nconst code = document.getElementById(\"code\");\nconst weights = document.getElementById(\"weights\");\n\nfunction addToOutput(s) {\n  output.value += '>>>' + code.value + '\\n' + s + '\\n';\n}\n\noutput.value = 'Initializing...\\n'; // init pyodide and load Relevant Python Scripts\n\nlanguagePluginLoader.then(() => {\n  output.value += 'Python Loaded!\\n';\n  loadNeuralNetScripts();\n});\n\nasync function evaluatePython() {\n  pyodide.runPythonAsync(code.value).then(output => {\n    addToOutput(output);\n    updateTable();\n  }).catch(err => {\n    addToOutput(err);\n  });\n}\n\nasync function loadNeuralNetScripts() {\n  response = await fetch('/NeuralNet.py');\n  mlcode = await response.text();\n  pyodide.runPythonAsync(mlcode).then(() => {\n    output.value += 'Neural Net Scripts Loaded!\\n';\n    updateTable();\n  }).catch(err => output.value += err);\n}\n\nasync function updateTable() {\n  var table = document.getElementById(\"weights\");\n  var rows = table.rows;\n  var weights = await pyodide.globals.WEIGHTS;\n\n  for (i = 0; i < weights.length; i++) {\n    var row = rows.item(i + 1);\n    var vals = weights[i];\n\n    for (j = 0; j < vals.length; j++) {\n      try {\n        row.deleteCell(j + 1);\n      } catch (err) {// console.log(err)\n      }\n\n      var cell = row.insertCell(j + 1);\n      cell.innerText = parseFloat(vals[j]).toFixed(4);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/alexanderackerman/Code/TicTacToeNeuralNet/src/pyodide-scripts.js"],"names":["output","document","getElementById","code","weights","addToOutput","s","value","languagePluginLoader","then","loadNeuralNetScripts","evaluatePython","pyodide","runPythonAsync","updateTable","catch","err","response","fetch","mlcode","text","table","rows","globals","WEIGHTS","i","length","row","item","vals","j","deleteCell","cell","insertCell","innerText","parseFloat","toFixed"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACA,MAAMC,IAAI,GAAGF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACA,MAAME,OAAO,GAAGH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;;AAEA,SAASG,WAAT,CAAqBC,CAArB,EAAwB;AACpBN,EAAAA,MAAM,CAACO,KAAP,IAAgB,QAAQJ,IAAI,CAACI,KAAb,GAAqB,IAArB,GAA4BD,CAA5B,GAAgC,IAAhD;AACH;;AAEDN,MAAM,CAACO,KAAP,GAAe,mBAAf,C,CACA;;AACAC,oBAAoB,CAACC,IAArB,CAA0B,MAAM;AAC5BT,EAAAA,MAAM,CAACO,KAAP,IAAgB,kBAAhB;AACAG,EAAAA,oBAAoB;AACvB,CAHD;;AAKA,eAAeC,cAAf,GAAgC;AAC5BC,EAAAA,OAAO,CAACC,cAAR,CAAuBV,IAAI,CAACI,KAA5B,EACKE,IADL,CACUT,MAAM,IAAI;AACZK,IAAAA,WAAW,CAACL,MAAD,CAAX;AACAc,IAAAA,WAAW;AACd,GAJL,EAKKC,KALL,CAKYC,GAAD,IAAS;AACZX,IAAAA,WAAW,CAACW,GAAD,CAAX;AACH,GAPL;AAQH;;AAED,eAAeN,oBAAf,GAAsC;AAClCO,EAAAA,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,CAAtB;AACAC,EAAAA,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAf;AACAR,EAAAA,OAAO,CAACC,cAAR,CAAuBM,MAAvB,EACKV,IADL,CACU,MAAM;AACRT,IAAAA,MAAM,CAACO,KAAP,IAAgB,8BAAhB;AACAO,IAAAA,WAAW;AACd,GAJL,EAKKC,KALL,CAKYC,GAAD,IAAShB,MAAM,CAACO,KAAP,IAAgBS,GALpC;AAMH;;AAED,eAAeF,WAAf,GAA6B;AACzB,MAAIO,KAAK,GAAGpB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAZ;AACA,MAAIoB,IAAI,GAAGD,KAAK,CAACC,IAAjB;AACA,MAAIlB,OAAO,GAAG,MAAMQ,OAAO,CAACW,OAAR,CAAgBC,OAApC;;AACA,OAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGrB,OAAO,CAACsB,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,QAAIE,GAAG,GAAGL,IAAI,CAACM,IAAL,CAAUH,CAAC,GAAG,CAAd,CAAV;AACA,QAAII,IAAI,GAAGzB,OAAO,CAACqB,CAAD,CAAlB;;AACA,SAAKK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,IAAI,CAACH,MAArB,EAA6BI,CAAC,EAA9B,EAAkC;AAC9B,UAAI;AACAH,QAAAA,GAAG,CAACI,UAAJ,CAAeD,CAAC,GAAG,CAAnB;AACH,OAFD,CAEE,OAAOd,GAAP,EAAY,CACV;AACH;;AACD,UAAIgB,IAAI,GAAGL,GAAG,CAACM,UAAJ,CAAeH,CAAC,GAAG,CAAnB,CAAX;AACAE,MAAAA,IAAI,CAACE,SAAL,GAAiBC,UAAU,CAACN,IAAI,CAACC,CAAD,CAAL,CAAV,CAAoBM,OAApB,CAA4B,CAA5B,CAAjB;AACH;AACJ;AACJ","sourcesContent":["const output = document.getElementById(\"output\");\nconst code = document.getElementById(\"code\");\nconst weights = document.getElementById(\"weights\");\n\nfunction addToOutput(s) {\n    output.value += '>>>' + code.value + '\\n' + s + '\\n';\n}\n\noutput.value = 'Initializing...\\n';\n// init pyodide and load Relevant Python Scripts\nlanguagePluginLoader.then(() => {\n    output.value += 'Python Loaded!\\n';\n    loadNeuralNetScripts();\n});\n\nasync function evaluatePython() {\n    pyodide.runPythonAsync(code.value)\n        .then(output => {\n            addToOutput(output);\n            updateTable();\n        })\n        .catch((err) => {\n            addToOutput(err)\n        });\n}\n\nasync function loadNeuralNetScripts() {\n    response = await fetch('/NeuralNet.py');\n    mlcode = await response.text();\n    pyodide.runPythonAsync(mlcode)\n        .then(() => {\n            output.value += 'Neural Net Scripts Loaded!\\n';\n            updateTable();\n        })\n        .catch((err) => output.value += err);\n}\n\nasync function updateTable() {\n    var table = document.getElementById(\"weights\");\n    var rows = table.rows;\n    var weights = await pyodide.globals.WEIGHTS;\n    for (i = 0; i < weights.length; i++) {\n        var row = rows.item(i + 1);\n        var vals = weights[i];\n        for (j = 0; j < vals.length; j++) {\n            try {\n                row.deleteCell(j + 1);\n            } catch (err) {\n                // console.log(err)\n            }\n            var cell = row.insertCell(j + 1);\n            cell.innerText = parseFloat(vals[j]).toFixed(4);\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}